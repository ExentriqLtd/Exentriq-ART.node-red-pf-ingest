<script type="text/javascript">

  RED.nodes.registerType('elasticsearch-create', {
    category: 'Planet Farms',
    color: '#73938b',
    defaults: {
      name: { value: '' }
    },
    inputs: 1,
    outputs: 1,
    icon: 'elasticsearch.svg',
    label: function() {
      return this.name || 'elasticsearch create';
    },
    paletteLabel: 'elasticsearch create',
  });
  </script>
  
<script type="text/html" data-template-name="elasticsearch-create">
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/html" data-help-name="elasticsearch-create">
  <p>Creates a new item in the <code>sales</code> index on the specified Elasticsearch node.</p>
  
  <h3>Inputs</h3>
    <dl class="message-properties">
        <dt>payload<span class="property-type">object</span></dt>
        <dd>The entity to be written on Elasticsearch.</dd>
        <dt>documentType<span class="property-type">array</span></dt>
        <dd>The type to be written on Elasticsearch.</dd>
    </dl>
    
  <h3>Details</h3>
  <p>This node creates a new item on the specified Elasticsearch node.</p>
  <p>The payload sent to Elasticsearch has the following structure:</p>
<pre>
{
  index: 'sales',
  body: {
    uuid: '...',      // generated UUIDv4
    plant: 'PF',
    service: 'SALES',
    type: '...',      // 'ORDER' or 'CONFIRMATION'
    timestamp: ...,   // Unix timestamp
    entity: {...}     // msg.payload
  }
}
</pre>
</script>